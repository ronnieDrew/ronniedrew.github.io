<div class="highlight"><pre><span class="nv">$package</span> <span class="p">=</span> <span class="s1">&#39;sqlio&#39;</span>
<span class="nv">$build</span> <span class="p">=</span> <span class="s1">&#39;1&#39;</span>
<span class="nv">$guid</span><span class="p">=</span><span class="s1">&#39;{DD971DE9-FAF0-4A15-9BE4-5D766B05D11E}&#39;</span>

<span class="k">try</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="nb">Test-Path</span> <span class="s2">&quot;HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\$guid&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-ChocolateyFailure</span> <span class="nv">$package</span> <span class="s2">&quot;$package is already installed!&quot;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="nv">$params</span> <span class="p">=</span> <span class="err">@</span><span class="p">{</span>
      <span class="n">PackageName</span> <span class="p">=</span> <span class="nv">$package</span><span class="err">;</span>
      <span class="n">FileType</span> <span class="p">=</span> <span class="s1">&#39;msi&#39;</span><span class="err">;</span>
      <span class="n">SilentArgs</span> <span class="p">=</span> <span class="s1">&#39;/QUIET&#39;</span><span class="err">;</span>
      <span class="n">Url</span> <span class="p">=</span> <span class="s2">&quot;http://download.microsoft.com/download/f/3/f/f3f92f8b-b24e-4c2e-9e86-d66df1f6f83b/SQLIO.msi&quot;</span><span class="err">;</span>
    <span class="p">}</span>

    <span class="n">Install-ChocolateyPackage</span> <span class="nv">@params</span>
    <span class="nb">Write-ChocolateySuccess</span> <span class="nv">$package</span>
  <span class="p">}</span>

<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>

  <span class="nb">Write-ChocolateyFailure</span> <span class="nv">$package</span> <span class="s2">&quot;</span><span class="si">$(</span><span class="err">$</span><span class="si">_.Exception.Message)</span><span class="s2">&quot;</span>
  <span class="n">throw</span> 

<span class="p">}</span>
</pre></div>